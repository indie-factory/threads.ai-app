import{a as C}from"./axios-B6xwUs71.js";import{a as $,i as N,g as j}from"./index-CNcW1olA.js";import{o as q,p as v,q as D,r as S,s as U,t as g,u as E,j as k,d as F,e as P,v as m,f as R,g as z,h as A,w as O}from"./vuetify-BSuz9dYk.js";import{d as X,j as Y,b as x,E as Z,N as d,O as b,P as e,q as t,M as p,U as h,Z as V,F as w,u as y,X as u,Y as c}from"./@vue-C6yEmL9w.js";/* empty css             */import"./vue-router-Dv2l7yOR.js";const L="https://graph.threads.net/v1.0",G=()=>{const l=$(),a=`${L}/me/threads?fields=id,media_product_type,media_type,media_url,permalink,owner,username,text,timestamp,shortcode,thumbnail_url,children,is_quote_post&limit=100&access_token=${l}`;return C.get(a).then(s=>s.data.data)},H=l=>{const a=$(),s=`${L}/${l}/conversation?fields=id,text,timestamp,media_product_type,media_type,media_url,shortcode,thumbnail_url,children,has_replies,root_post,replied_to,is_reply,hide_status&reverse=false&access_token=${a}`;return C.get(s).then(r=>r.data.data)},J=(l,a)=>N.post("/conversations/generate",{text:l,conversation:a}).then(s=>s.text),K={class:"pl-3"},Q={class:"text-pre-line"},W=u("h3",null,"댓글",-1),ee={class:"text-pre-line"},re=X({__name:"Dashboard",setup(l){const a=Y(j()),s=x(),r=x(!1);async function B(n){if(n.conversations){r.value=!0;let i="";for(const o of n.conversations){const _=await J(n.text,o.text);i+=`✍️${o.text}
✅${_} 


`}alert(i),r.value=!1}}function T({done:n}){n("done")}function I(){window.open(`https://www.threads.net/@${a.username}`,"_blank")}return Z(()=>{G().then(async n=>{s.value=n;for(const i of s.value)i.conversations=await H(i.id)})}),(n,i)=>(d(),b(E,{class:"h-100"},{default:e(()=>[t(g,null,{default:e(()=>[t(q,null,{default:e(()=>[t(v,{color:"black"},{default:e(()=>[t(D,null,{default:e(()=>[p("새 댓글")]),_:1}),t(S,null,{default:e(()=>[t(U,{color:"black",direction:"horizontal",class:"w-100",onLoad:T},{default:e(()=>[(d(!0),h(w,null,V(s.value,(o,_)=>(d(),h("div",{key:_,class:"pl-5"},[t(v,{width:"450","max-width":"450","max-height":"70vh",class:"pa-4 rounded-lg overflow-auto",variant:"outlined",color:"balck"},{default:e(()=>[t(k,{class:"cursor-pointer",onClick:I},{default:e(()=>[t(F,null,{default:e(()=>[t(P,{src:y(a).profileUrl,alt:y(a).username,class:"h-100 w-100"},null,8,["src","alt"])]),_:1}),u("span",K,c(o.username),1)]),_:2},1024),t(m,null,{default:e(()=>[u("div",Q,c(o.text),1)]),_:2},1024),t(R),t(m,null,{default:e(()=>[t(g,{align:"center",justify:"space-between",class:"pl-5 pr-5"},{default:e(()=>[W,t(z,{color:"blue","prepend-icon":"mdi-plus",loading:r.value,disabled:r.value,onClick:f=>B(o)},{default:e(()=>[p("새로운 댓글 ")]),_:2},1032,["loading","disabled","onClick"])]),_:2},1024)]),_:2},1024),t(m,null,{default:e(()=>[(d(!0),h(w,null,V(o.conversations,(f,M)=>(d(),b(A,{key:M,"bg-color":"black"},{default:e(()=>[t(k,{color:"black"},{default:e(()=>[u("div",ee,c(f.text),1),t(O,null,{default:e(()=>[p(c(f.timestamp),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});export{re as default};
