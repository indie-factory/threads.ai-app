import{a as g}from"./axios-B6xwUs71.js";import{a as k,i as j,g as D}from"./index-7p3yHKUQ.js";import{o as U,p as y,q as E,r as F,s as P,t as C,u as R,j as $,d as S,e as z,v as p,f as A,g as O,h as X,k as Y}from"./vuetify-DRcdfVg7.js";import{d as Z,j as G,b as T,E as H,N as _,O as B,P as e,q as t,M as f,U as h,Z as L,F as I,u as v,X as u,Y as m}from"./@vue-C6yEmL9w.js";/* empty css             */import"./vue-router-Dv2l7yOR.js";const b="https://graph.threads.net/v1.0",J=()=>{const r=k(),a=`${b}/me/threads?fields=id,media_product_type,media_type,media_url,permalink,owner,username,text,timestamp,shortcode,thumbnail_url,children,is_quote_post&limit=10&access_token=${r}`;return g.get(a).then(s=>s.data.data)},K=r=>{const a=k(),s=`${b}/${r}/conversation?fields=id,text,timestamp,media_product_type,media_type,media_url,shortcode,thumbnail_url,children,has_replies,root_post,replied_to,is_reply,hide_status&reverse=false&access_token=${a}`;return g.get(s).then(l=>l.data.data)},Q=r=>{const a=k(),s=`${b}/${r}?fields=id,media_product_type,media_type,media_url,permalink,owner,username,text,timestamp,shortcode,thumbnail_url,children,is_quote_post&access_token=${a}`;return g.get(s).then(l=>l.data)},W=(r,a)=>j.post("/conversations/generate",{text:r,conversation:a}).then(s=>s.text),ee={class:"pl-3"},te={class:"text-pre-line"},ae=u("h3",null,"댓글",-1),se=["onClick"],ne={class:"font-weight-bold text-h7"},oe={class:"text-pre-line pl-5"},me=Z({__name:"Dashboard",setup(r){const a=G(D()),s=T(),l=T(!1);async function q(n){if(n.conversations){l.value=!0;let i="";for(const o of n.conversations){const c=await W(n.text,o.text);i+=`✍️${o.text}
✅${c} 


`}alert(i),l.value=!1}}function M({done:n}){n("done")}function x(n){window.open(`https://www.threads.net/@${n}`,"_blank")}return H(()=>{J().then(n=>{s.value=n;for(const i of s.value)K(i.id).then(async o=>{for(const c of o)try{c.threads=await Q(c.id)}catch(d){console.error(d)}i.conversations=o})})}),(n,i)=>(_(),B(R,{class:"h-100"},{default:e(()=>[t(C,null,{default:e(()=>[t(U,null,{default:e(()=>[t(y,{color:"black"},{default:e(()=>[t(E,null,{default:e(()=>[f("새 댓글")]),_:1}),t(F,null,{default:e(()=>[t(P,{color:"black",direction:"horizontal",class:"w-100",onLoad:M},{default:e(()=>[(_(!0),h(I,null,L(s.value,(o,c)=>(_(),h("div",{key:c,class:"pl-5"},[t(y,{width:"450","max-width":"450","max-height":"70vh",class:"pa-4 rounded-lg overflow-auto",variant:"outlined",color:"balck"},{default:e(()=>[t($,{class:"cursor-pointer",onClick:i[0]||(i[0]=d=>x(v(a).username))},{default:e(()=>[t(S,null,{default:e(()=>[t(z,{src:v(a).profileUrl,alt:v(a).username,class:"h-100 w-100"},null,8,["src","alt"])]),_:1}),u("span",ee,m(o.username),1)]),_:2},1024),t(p,null,{default:e(()=>[u("div",te,m(o.text),1)]),_:2},1024),t(A),t(p,null,{default:e(()=>[t(C,{align:"center",justify:"space-between",class:"pl-5 pr-5"},{default:e(()=>[ae,t(O,{color:"blue","prepend-icon":"mdi-plus",loading:l.value,disabled:l.value,onClick:d=>q(o)},{default:e(()=>[f("새로운 댓글 ")]),_:2},1032,["loading","disabled","onClick"])]),_:2},1024)]),_:2},1024),t(p,null,{default:e(()=>[(_(!0),h(I,null,L(o.conversations,(d,N)=>(_(),B(X,{key:N,"bg-color":"black"},{default:e(()=>[t($,{color:"black"},{default:e(()=>{var w;return[u("div",{class:"text-pre-line pb-1 cursor-pointer",onClick:re=>{var V;return x((V=d.threads)==null?void 0:V.username)}},[t(Y,{class:"mb-1",color:"blue"},{default:e(()=>[f("mdi-account")]),_:1}),u("span",ne,m((w=d.threads)==null?void 0:w.username),1)],8,se),u("div",oe,m(d.text),1)]}),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});export{me as default};
